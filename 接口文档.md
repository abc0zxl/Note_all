# 接口文档规范

**接口**：

1.**接口名称是否清晰**：英文表述是否恰当

2.**接口地址是否完整**：包含域名和端口

3.**接口请求方式是否正确**：head，options

4.**请求参数的8大要素**：

* **参数名**：驼峰命名
* **类型**：string，integer等
* **是否必填**：要标注好
* **默认值**：如果这个参数不传默认值应该时多少
* **取值范围**：
* **参数格式**：yyyymmdd
* **入参示例值**：让开发人员更好的理解和使用该参数
* **备注**：如果这个入参字段有特殊说明，可以特殊说明一下![image.png](/assets/30bab29e-df85-402e-af86-3ff07f19af1c.png)

5.**响应参数的7大要求**：

* **参数名称**：
* **参数类型**：
* **是否必填**：
* **参数范围**：
* **示例值**：
* **参数说明**：
* 参数格式

响应参数一般是按照code，msg，data格式返回的

![image.png](/assets/48ddca93-8e3d-42a1-bfe1-e8c8278dd713.png)

6.**接口错误码**

![image.png](/assets/0b187281-b859-4c2f-bd2d-586a908720e4.png)

7.**接口安全**：一些接口需要保护，要考虑接口的安全，权限管理，防止sql注入等。如果数据是被加密的也要说明一下，要标注一下。

8.**接口版本管理**：随着版本的升级，接口也要发生变化，为了避免接口变化给用户带来不必要的困扰，需要对接口进行版本管理。

* **在接口文档中明确版本号**
* ![image.png](/assets/2ef26b1f-6fe7-4e80-8a3f-50378e3d359f.png)
* **使用语义化版本号**
* **增量发布**

9.**维护接口更新迭代**：接口发生变更，变了啥需要说清楚

![image.png](/assets/a8ef82f9-4f83-4f7c-8688-dd316f7ecabd.png)

10.**明确请求头有哪些**

![image.png](/assets/4fafda6e-e5c7-4019-8d5c-f7e9506d2e20.png)

11。**接口请求实例**：方便开发者理解接口，使用方法和调用流程

12.**接口测试**

# 接口文档风格

1. RESTful API
2. GraphQL
3. gRPC

## RESTful API

他不是**协议，标准，强制规范**，

他是一种建议的REST架构风格的API

**作用**：它是一种url风格，相较于原来的非RESTful有着更漂亮的视觉。

![image.png](/assets/bfbfb087-f838-4473-a878-f0c6d6a20443.png)

# 编写接口文档

**编写工具**：

* **语雀**：用于团队协作比较方便，缺点是无在线调试，无自动化测试
* **ShowDoc**：只有文档和基础调试，无自动化测试，比较混乱
* **Apifox**：目前最好的工具

**关键词Mock**：模拟的意思，后端没造好接口，先造一个假接口，返回预设的假数据，让前端先开发页面。

# Mock

他是一个接口的高仿替身，当后端的接口都还没实现完成的时候，就需要Mock做一个假的接口，可以定义他的

1.**可以定义，入参、出参、返回状态码**

2.**它不连接真实数据库，不调用正式服务，按照设定规则返回数据**

3.**当作真接口来测试**
