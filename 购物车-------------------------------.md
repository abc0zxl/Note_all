# 购物车的实现

用于暂时存放商品的地方

## 接口设计

要传入的消息

* 商品id，或，套餐id
* 当时所选的数量
* 商品的规格
* 用户id

结合应用场景，如果是比较简单的场景，为了减少机器的负担，购物车就之展示简单的信息即可



#### 冗余字段设计

所以除了上面的数据外，还要传递一些冗余字段

* 商品名称
* 商品的图片

**注意**：某些敏感数据不能够这样搞，比如说价格，为了保险期间，**价格字段还是用查数据库的方式来放到购物车中**

这样打开购物车的时候就是查的单表，而不是根据每个商品的id再多次查数据库



### 加入购物车（插入商品）

1.**首先在service封装数据**：获取前端传递过来的DTO，copy到**购物车对象**，在从线程工具中获取用户id，在封装到**购物车对象**中，

2.**查询是否已有该商品**：用（用户id，菜品id，口味id，套餐id）查询是否有该菜品，有则数量加1，无则添加数据

3.**判断是什么种类的商品**：单个商品，套餐，通过获取字段来查找，是否非空就知道了。

4.****
