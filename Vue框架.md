# Vue框架

## 安装教程

1.**安装node**：

2.**安装npm镜像**：他是node下载插件依赖的地方

* 安装淘宝的就行

3.**构建工具**：webpack，现在基本上都用的这个，

4.**搭建Vue环境**：

* 安装Vue CLI：

5.**就可以创建项目了**

## 框架讲解

1.**node_modules**：这个是下载的依赖文件

* 不需要上传和修改
* 因为它可以一键再安装回来

2.**public**：这个是存放适配各种环境的图标

* 不用管这个
* 这个里面全部是V图标

3.**src**：源码文件，这个就是写代码的地方

4.**.gitignore**：这个是忽略文件

5.**babel.config.js**：这个是配置文件不用管

6.**package.json**：也是配置文件

* 可以用来看看有哪些依赖
* 以及这些依赖的版本

# 指令

所有v-开头的都是指令

1.**v-html**：表示可以使用html代码

* 双大括号只能表示普通文本

2.**v-bind**：可以绑定动态属性

3.**v-if**：可以控制这个标签是否显示

* 用div标签会出现if else
* 使用template就能不显示

3.**v-for**：列表显示

4.**v-on**：按钮事件

* v-on：和@一样的

# 模板语法

## 插值

表示可以插入那些东西

1.**文本**：{{AAAA}}

2.**原始HTML**：v-html

3.**属性**：v-bind:AAA

4.**模板表达式**：双花括号里面只能存在单个表达式

## 缩写

1.**可以缩写v-bind**：直接省略v-bind只保留后面的：AAA绑定的属性名称

## 列表渲染

1.**v-for**

2.**数组的更新检测**：

## 表单输入与绑定

* 输入用input
* 可以边输入，边把数据显示到绑定位置v-model

## 修饰

可以放在很多指令后面产生对应的效果

## 计算属性

有三种编写方法

* 一个是直接编写再{{AAA}}中的
* 在方法中别写一个函数然后再{{AAA}}中直接调用它的方法名字
* 再data同级的地方直接写一个函数，但在{{AAA}}中要加括号使用
* **第一种方式是基于响应式的，性能会好一点**

## 监听器

用于监听两次数值的变化的

* 监听位置：用绑定一个方法
* **监听方法编写**：与data同级，watch：{导入绑定的方法，他又两个属性，oldvalue，newvalue，编写监听逻辑}

## class与style的绑定

样式属性的方式

* 单个
* 数组方式
* 对象数组方式，上门两个方式互相嵌套

![image.png](/assets/852599d6-7fea-4bc6-8869-81ec4d631da8.png)

# 组件components

## 创建组件

1.**第一步**：编写这个组件的显示效果，在template中

2.**第二步**：暴露组件，也叫导出操作，让别的地方能调用到

## 使用组件

1.**第一步**：导入组件和data同级

![image.png](/assets/22c96859-8c92-4be4-8b70-9802ea0762b4.png)

2.**第二步**：在和data同级的地方写一个components：{}

3.**第三步**：注入组件

![image.png](/assets/42900175-96d1-4a98-a73e-a954bc32b25f.png)

4.**第四步**：组件的使用

<Hello/》

## 组件的交互

### 父传子

1.组件是独立性的，同一个组件在不同地方导入**互补干涉**，这个可以通过组件的传递参数实现，每个地方出入的参数都不一样，结果也是不一样，所以是**互不干涉**

* 传值的两边绑定的名字要相同，才能成功
* 然后也可以**同时**传入多种类型，名字用**：** 隔开即可

![image.png](/assets/c6dd70a5-c642-4992-8f01-b414bca809ac.png)

![image.png](/assets/817037f9-df43-4903-b86f-a14e2ff0c959.png)

### 字传父

1.**在template中编写事件或者别的也行，用于将参数传递到script中**

2.**关键字this.$emit('AAA'，'BBB')**：这个是定义在，methods：中事件名内的。这个AAA是回调的事件名

3.**在父中实现这个事件**：

![image.png](/assets/1f0e22ed-bf9c-4794-a1c7-f41d821f6afb.png)

4.**将这个方法写到methods中**：

![image.png](/assets/8bc0b0bc-4539-42ae-bca4-ff152cf7da90.png)

## 插槽

数据传递的一种方式，直接将一段template里面写的一段内容传递到父级（组件）中的<slot双标签位置

* 数据
* 视图

**关键字**：

* <slot》：子级中用于说明插槽位置
* <AAA》父级自定义标签，用于说明插槽内容

##### **声明插槽**

1.最主要的就是slot关键字

![image.png](/assets/067a39b4-8aaa-4220-b378-72e688753161.png)

##### 使用插槽

1.导入插槽到方法中

![image.png](/assets/84b0ca31-e2bd-41ef-b3c5-437c50665cc6.png)

2.调用这个标签，传递插槽内容(**不能插入标签 **)

![image.png](/assets/c33d05ae-9639-4f70-a049-ddc7f4fe5884.png)

#### 具名插槽（作用域插槽）

就是说可以让多个部分，调用用一个插槽中不同的部分，这个不同的部分通过div相同名字来绑定，以此达到不同位置的插入效果。就是上面的方法的升级版

* 让组件方插件的灵活性更高
* 在非绑定区域外可以定义视图，而非具名插槽只能全体替代，或者只用默认值

## 动态组件

这个也是用于实现组件动态切换的功能，

**关键字**：<component:is="AAAA"》《/component》

会用到三个组件

1.**被切换组件**：这里是两个用于显示内容的简单组件

2.**实行切换的组件**：这里是调用动态组件标签的位置

它用关键字is来显示组件，通过一个单击事件来切换is="xxx“的值。**实现动态组件**

3.**调用动态组件**：也是导入，然后注入，然后使用他的标签


4.**如果要实现组件的切换，且要保存切换前后时的状态**：就要用到**缓存**标签，《keep-alive>

![image.png](/assets/8f61a700-ba0e-4aed-99c8-91d863d680f4.png)

## 异步组件

是动态组件的升级版，他能让没有**被使用**的组件先不加载

**作用**：在实际情况中，有些页面包含大量的组件，一次性导入会非常卡顿，所以采用这种方式更佳





![image.png](/assets/4211ca3b-a680-46f5-841e-5faf8510d47a.png)


## 访问根实例

1.在每个子组件中可以直接调用根main.js中的内容

**实现步骤**

1.**在根中定义属性**：

![image.png](/assets/56c5a6a9-a512-428a-8f5c-cffa8beb7408.png)

2.**调用属性**

![image.png](/assets/e22db049-d0df-4f16-8546-4f63790b085e.png)








# 路由

**原来**：跳转页面都是通过一个路径直接跳转到一个新的页面

**现在**：vue，操作的都是单页面应用，在页面上看似是跳转到了新页面，但实际上还是这个页面。


**优点**：

1.**不用重新加载组件**：这样加载页面会快很多


**问题**：

1.既然没有直接跳转到一个新页面，页面又是如何加载出来的呢


## 路由实现步骤

1.**重新创建一个空项目**

2.**将版本放到package.json中**：这样的好处是，这个项目放到别的地方时，能很好的加载以来，防止版本错误

3.**在main.js中加入配置**：

![image.png](/assets/76c988fb-5693-4cb9-b150-33ee6e3a038d.png)

### 搭建路由

1.**两种文件格式**

* HTML：用来承载**路由视图**，和**路由跳转**
* JavaScript：用来配置**路由结构**

2.**定义路由**：

![image.png](/assets/4c513e88-d016-4d27-b375-0be35f6bc90c.png)

3.**创建路由对象**：

将路由放到路由对象中

![image.png](/assets/58322705-3b4c-49c0-9716-e2bf72bf79dc.png)

4.**挂载路由**：

挂载到vue实例中

![image.png](/assets/3d8fc5a9-f099-4ef4-a428-630cd014b1cc.png)

此时还不能显示，接下来解决显示问题

5.**定义路由出口**

直接加标签<router-view》《/router-view》

这样用户就能通过地址的方式来跳转，但这样很麻烦，接下来定义按钮来调转页面，**注意是在App.vue中**

6.**添加路由跳转**：让用户能点击就跳转到对应页面

![image.png](/assets/ad4a1487-d452-46f3-a8dc-4d8b56c0b6a1.png)


## 动态路由匹配

通过不同的用户来点击，然后展示不同的用户信息。

**传递参数**：这里通过地址来传递参数

### 实现步骤

1.**定义专用路由**：这里和java不同

* java用的{id}
* 这里用的:id

![image.png](/assets/c3f495e9-6478-4698-bfed-1cee1f831c68.png)

2.**获取参数**：这里是点击跳转的地方

* **获取参数关键字**：{{$route.params.userid}}这个后面的参数名字能改
* **发送多个参数**：发送多个参数用/分开即可
* **获取多个参数**：在对应的位置用多个{{}}获取即可


### 上面的路由都整合到一个文件夹中

1.**首先将main.js中的提取出来**：下面标注出来的几个

* 注意修改相对路由位置

![image.png](/assets/06f46b64-55b8-4ad7-9c22-d35ce6255023.png)

2.**挂载路由**

* **首先将上面的路由消息导出去**：用export default
* **在main.js中引入这个路由**



## 嵌套路由

就是点击了这个跳转他就会多出来两个页面跳转选项

**点击这个新闻就会多出来两个子页面**

![image.png](/assets/550c50dd-5699-4936-8258-d745d131d218.png)

1.**首先要定义子页面逻辑**

![image.png](/assets/c760c579-3955-4c2a-9e0a-61cd16251869.png)

2.**让新闻页面显示这两个子页面**

就是说还是上面的问题，现在不能通过地址的方式跳转过去

* 要加一个跳转标签

![image.png](/assets/04896368-b8c0-4e69-85fd-7b1c7e601253.png)

3.添加便于跳转的按钮，

![image.png](/assets/dc9e3c48-d2e2-4401-ab42-1e625a73b057.png)


## 编程式导航

这里有两种方式，**直接跳转，替换跳转**，下面通过按钮触发命令的方式来展示

1.**直接跳转**：

他的特点是，可以缓存上一个页面信息

2.**替换跳转**：

他的特点是会将上个页面完全替换掉，不做保留

![image.png](/assets/ab22bf8d-4eb9-474b-a449-b682e99a5ff5.png)


## 名命路由

现在都是通过路径跳转的，下面来展示通过名字来跳转

**用在一些多个页面需要用同一个页面组件的情况**


![image.png](/assets/3fa4270c-8559-4ab5-8b9e-e10d35b196b7.png)

## 重定向和别名

上面展示的页面，时都没有默认的显示页码，只有点击了后才展示，但在实际情况中却不是这样

**实现步骤**

1.在定义路由的地方加入默认路由

![image.png](/assets/c3e1beca-da70-46a0-a126-c0bab86a8446.png)

2.**也可以实现多个名字展示同一个页面**

这个也是在定义路由的下面

![image.png](/assets/2457f877-ccf5-4796-b590-7cda785f3a06.png)

## HTML5 History模式

它可以将原来路由中默认添加的/#去掉。**但仅限于好看，原因如下**

**注意**

* 直接用这个无#的url访问依旧无效
* 这个**在路由对象中配置**
* ![image.png](/assets/22b9d2b8-208f-4ca2-b275-9265db366e06.png)


## 导航守卫

路由导航守卫**核心作用就是 “拦截路由跳转”**，并在跳转的不同阶段执行自定义逻辑

这个表示vue提供了一系列的，关于导航的**钩子函数**，这里主要的是，**全局（前置，解析，后置）首位**

这个分别表示在**跳转前执行的部分**，……

* 注意要加next（）表示**允许跳转**
* 每个守卫都有三个参数，to, from,next

### 路由元信息

这个实在定义路由的时候定义的，这个字段可以被守卫获取。

**实际应用**：判断用户是否登录

下面是路由守卫的逻辑

![image.png](/assets/e08e8601-89a4-4d89-8582-9995f23d0c49.png)
