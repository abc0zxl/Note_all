**问题**：编写的项目，可以在自己电脑允许，并部署，别的人也可以访问到，但是自己电脑关闭就不行了。

## **实现步骤**

1.**安装打包插件**：maven-plugin

* 会将项目打包成一个jar包
* 放到服务器上就能运行了
* 他是一个**插件**不是**依赖**
* ![image.png](/assets/0142bb82-c906-412a-b794-ae8e3dfe6185.png)

2.**打包**：在maven的界面里面LifeCycle里面，有一个Pakage命令

3..**找到jar包**：在项目运行后的target目录下

4.**运行这个jar包**：在改目录下打开命令行，执行java -jar

# 环境知识

1.服务器运行jar包部署必须有jre环境

# 属性配置方式

修改配置信息，例如端口号，这个在源文件好改，但在用于部署的jar包就不好改


## 命令行参数方式

表示在这个jar包当前路径下的命令行中修改，执行命令

1.**书写方式**：

* 前半部分：就是启动代码 java -jar XXXXXX.jar
* 后半部分：--AAAAA=BBBBB

  **这里AAAA**：表示键名字

  **这里BBBB**：表示键值

![image.png](/assets/b5b62ec0-4c36-4f4d-ba4e-88e4197e660d.png)

* ****原理****：后半部分是将它传递给了启动类的main方法的参数中
* ![image.png](/assets/72e63059-150b-4bf9-82a8-fd23c57e4bd7.png)


## 环境变量方式

在环境变量中的用户变量中设置变量名字为键，变量值为答案

**实现步骤**

1.**进入环境变量**：

2.**新建用户变量**：

3.**设置配置参数**：

* **变量名**：就是键，如server.port
* 变量值：就是键值,如8081

## 外部配置文件方式

在项目目录下创建配置文件

**实现步骤**

1.**创建yml文件**：在该打包的目录下创建yml文件

2.**编写配置**：直接往里面写配置

3.**运行**：就好了



## 配置文件优先级

优先级从上到下，下面的可以覆盖上面的

1.resource的yml

2.jar包路径下的yml

3.操作系统环境变量

4.命令行参数





# 多环境开发

项目目运行在很多地方，开发，测试，实际生产中都是不同的机器和环境。

**问题**：会导致反复的修改配置信息，及其麻烦

### **解决方法**

1.**多环境开发—Pofiles**



#### 多环境开发-Pofiles-单文件

他是由springboot提供的，可以隔离应用程序配置的各个部分，并在指定部分的配置生效

1..**编写多个环境**：

* **隔离环境**：---，就用这符号，三个符号，
* **编写运行环境名称**：在每个隔离部分声明每个运行环境的**代名称**

  ![image.png](/assets/91b471be-a74f-48df-88ac-a57829610cef.png)
* **编写每个环境的配置信息**：就在这几个隔离的地方写各自的配置就好了

2.**指定生效环境**：

* **编写位置**：在---最顶部编写。
* **内容**：可以编写下面通用的配置信息，表示每个环境都生效
* **编写生效的环境名称**：
* ![image.png](/assets/b9622876-a49d-4d03-8fa8-b58555f9c046.png)
* 可以看到它可以指定下面的环境中的名称来**启用该环境配置**

3.**优先级**：特定环境区域的配置，**优先级高于**，通用的配置信息

4.**弊端**：都写到了一个文件中，十分的麻烦，且复杂


### 多环境开发-Pofiles-多文件

给每个环境都写一个yml文件，这样可读性就好很多

**总体结构**：

* 多个不同环境的yml文件
* 一个总的控制文件

**编写规则**

1.**命名方式**：

* **环境配置文件**：application-环境代名.yml
* **通用配置文件**：application.yml

2.**内容**：就和上面的单文件切割开一样。



### 多环境开发-Pofiles-分组方式

多文件方式解决了阅读麻烦的饭时，但是某些环境中的配置信息十分的多。可达上百行

**总体结构**：树状结构，有一个总的配置文件

这时可以再将这个配置文件**按照功能**，**分成多个文件**

* application-devServer.yml
* application-devDB.yml
* application-devSelf.yml


**多个配置信息同时生效实现步骤**

* **有一个总配置文件**：application.yml
* **多文件生效代码**：active是环境代名，group是**激活**这几个配置文件
* ![image.png](/assets/bef6fc3d-0fe2-4a44-9dc8-6f6bd562ce5a.png)
