# 微信相关操作

微信登录，……

# HttpClient

他是用于和微信交互的一个工具。

他是apache的一个子项目，可以提供高效，罪行的丰富的支持，http协议的一个客户端编程工具包。

**功能**：通过java变成的方式来，构造http请求，发送http请求

**依赖**：

**核心API**：

1.HttpPost：post请求

2.HttpGet：get请求

3.**CloseableHttpClient**：一个具体实现类，实现了HttpClient这个接口

4.**HttpClients**：构建器，用于创建httpclient对象

5.**HttpClient**：发送http请求



#### 使用步骤

1.**导入坐标**：

* 如果导入了阿里云的坐标，它里面有这个坐标不用导了
* 没有的话

![image.png](/assets/27c3764e-a417-4c61-bdc4-2bd21550c290.png)


2.**Post，gethttp的发送**：

* **GetHttp实现步骤**
* 创建httpclient对象
* 创建请求对象
* 发送请求并接收响应结果
* 获取服务端返回的**状态码**和**响应体**
* 关闭response和httpclient的资源

![image.png](/assets/330125ea-4273-4391-b73b-579ca457e90a.png)



* **PostHttp实现步骤**
* 创建httpclient对象
* 创建请求对象
* 创建JSON对象
* 封装用户和密码导json对象
* 将json对象封装导StringEnity的对象中
* **指定这个enity对象的编码方式**
* 指定传输方式
* 将这个entity封装到HttpPost中
* 发送请求
* 解析返回**响应码**，**请求体**
* 关闭资源

![image.png](/assets/0ec194f1-be74-4ad7-b5b1-7b74443d2f6a.png)


## HttpClient工具类

她不用像上面一样手动编写复杂的操作。工具类直接地道用他的方法，然后传入必要的参数即可

1.url传递地址，

2.paramMap传递参数

![image.png](/assets/664e78a6-d46f-4f60-a75a-5a1715582765.png)

![image.png](/assets/7b68c61d-913c-4f66-ae40-ffcc42f5c132.png)
