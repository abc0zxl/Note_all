# 散碎知识

1.**待定任务标注**：代码中有些逻辑目前无法编写，用例特殊值来代替原有逻辑，等着以后来改。

* 怕忘记，找不到位置
* 就用**特殊注释字段**：**TODO**高亮字段来标记。
* 可以在页面左边有三个点**启用这个**特殊注解查询
* ![image.png](/assets/9e4c0ef2-42fa-46d5-9d38-cb30cdc81a5a.png)







# SpringBoot+Vue+Redis+Mybatis设计流程

## 开发流程

1.**需求分析**：需求规格，产品原型

2.**设计**：UI设计，数据库设计，接口设计

3.**设计实现**：项目代码，单元测试

4.**测试**：编写测试用例，测试报告

5.**上线运维**：软件环境安装，配置

### 需求分析

需要打造一款用于外卖的软件，可以实现用户浏览菜品下单，商家接单，数据分析，等功能

### 需求模块

1.**管理端**：

* 员工管理
* 分类管理
* 菜品管理
* 套餐关系
* 订单管理
* 工作台
* 数据统计
* 来单提醒

2.**客户端**：

* 微信登录
* 商品浏览
* 客户下单
* 购物车
* 微信支付
* 历史订单
* 地址管理
* 用户催单

### 产品原型

将项目通过图片展示出来，给甲方看。差不多就是项目完成后的界面状态。

### 技术选型

![image.png](/assets/8f006587-6eb5-4013-9a41-b5808f97b980.png)

### 项目框架

一个父工程，三个子模块

1.**父工程**：

* 用于管理依赖版本
* 存放其他子模块的地方

2.**子模块**：

* 存放公共类
* 存放实体类
* 存放实际运行后端服务的模块

## 创建数据库

## Nginx

反向代理：可以解决

* 跨域访问
* 负载均衡
* 提高访问速度
* 保证后端服务安全

#### 配置Nginx服务器

**配置文件位置**：nginx文件下的 config->nginx.config

1.**反向代理的实现**：

* 进入nginx.conf
* 设置服务器端口号和反向代理地址

![image.png](/assets/429a8e3a-8902-4986-8d0b-3bb12190a1a0.png)

2.**负载均衡实现**：

* **配置服务器地址**：均衡负载，肯定又多个服务器，所以要配置多个转发地址
* **配置服务地址**：这个是多个服务器地址的代名地址

![image.png](/assets/c935a36b-7a9c-4620-b4bf-c4ba4698f5b4.png)

* **默认策略**：轮询策略
* **其他策略**：![image.png](/assets/53a41f44-6bd3-4e46-948e-7c3ce2db7aa4.png)

## 功能实现

1.**分析每个表单的录入约束**：

![image.png](/assets/23fc44d1-ba91-407b-bbad-e1853f87381a.png)

## 接口设计规则

1.**管理端**：统一前缀是admin

2.**客户端**：同意是user

![image.png](/assets/392b7eb2-ff8d-49de-a837-d2545baa58c6.png)

## 代码开发


#### DTO思想

1.**规则**：当前端提交过来的数据和实体类的差距比较大时，可以用DTO来封装数据

2.就是把需要提交数据的属性放到DTO中单独处理，这样

* 有利于解耦数据
* **健壮性**：当变动数据库时，前端不会被影响
* 前端也不会被其他类型的数据
* **安全性**：这样更安全，只暴露需要修改的属性给前端。
* 业务和数据分离

3.以往用整个对象来比传递，面对这些自动的属性，需要一路的手动添加，增加了代码的耦合性。

4.对自动的属性，前端往往会赋自己不确定的值，增加了未知性。


**接收到的数据处理**：由于前端发来的数据被辅到DTO对象中了，所以需要将这个对象的值反向放到原来的对象中

* 不需要一个一个的赋值
* 可以用一个方法赋会原来的对象

  ![image.png](/assets/e4c4ad1c-f6c9-46f4-b06c-2b856b5baf5c.png)


#### 常量类思想

遇到一些属性，或者参数，十分独立，例如

* 状态值
* 默认值

这些在代码中，没有上下规律可言，可读性很差，这时就需要利用常量类来代替这些固定死板的数值

**目的**：提高代码可读性，立马知道这个是什么意思

![image.png](/assets/bf754d37-0da9-4322-adcd-51cc51952a11.png)
